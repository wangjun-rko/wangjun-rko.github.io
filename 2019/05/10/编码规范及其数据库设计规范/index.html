<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="技术学习博客"><title>编码规范及其数据库设计规范 | 学而时习之</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">编码规范及其数据库设计规范</h1><a id="logo" href="/.">学而时习之</a><p class="description">梦在翱翔，心在路上；关于学习，贵在坚持！</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">编码规范及其数据库设计规范</h1><div class="post-meta"><a href="/2019/05/10/编码规范及其数据库设计规范/#comments" class="comment-count"></a><p><span class="date">May 10, 2019 | wangjun</span><span><a href="/categories/技术规范/" class="category">技术规范</a></span></p></div><div class="post-content"><h2 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h2><p>不能以下划线或美元符号开始和结束。<br>常量名全部大写，单词间用下划线隔开，语义表达完整清楚，不要嫌名字长。</p>
<h3 id="1-包名"><a href="#1-包名" class="headerlink" title="1.包名"></a>1.包名</h3><p>包名应当使用有意义的英文名或英文名缩写。统一小写。<br>公司包名称应当以com.thunisoft开头。</p>
<h3 id="2-类名，方法名"><a href="#2-类名，方法名" class="headerlink" title="2.类名，方法名"></a>2.类名，方法名</h3><p>使用有意义的英文名或英文名缩写、中文全拼或中文简拼缩写。<br>建议使用英文命名。<br>如果是多个关键词组成，应当使用驼峰命名法。<br>使用长的完整类名。<br>抽象类应当使用Abstract或Base开头。<br>异常类使用Exception结尾。<br>接口实现类应当以Impl结尾。<br>类名首字母大写，方法名小写。</p>
<h3 id="3-接口"><a href="#3-接口" class="headerlink" title="3.接口"></a>3.接口</h3><p>继承性的接口应当以I开头，I后面的第一个字母大写。<br>接口类中的方法和属性不要加任何修饰符号（public 也不要加） ，保持代码的简洁性，并加上有效的 Javadoc 注释。<br>尽量不要在接口里定义变量，如果一定要定义变量，肯定是与接口方法相关，并且是整个应用的基础常量。</p>
<p>实现类用 Impl 的后缀与接口区别。</p>
<h3 id="4-成员变量名"><a href="#4-成员变量名" class="headerlink" title="4.成员变量名"></a>4.成员变量名</h3><p>成员变量如果是类类型，建议命名时与对应的类名近似。UserInfo userInfo</p>
<h3 id="5-方法参数名"><a href="#5-方法参数名" class="headerlink" title="5.方法参数名"></a>5.方法参数名</h3><p>如果是类类型，建议命名与对应的类名近似。<br>方法参数建议不超过3个。<br>方法参数禁止超过5个，POJO的构造函数除外。</p>
<h3 id="6-临时变量名"><a href="#6-临时变量名" class="headerlink" title="6.临时变量名"></a>6.临时变量名</h3><p>临时变量应当具有业务涵义<br>建议临时变量使用类型前缀或后缀</p>
<p>类型前缀如下：<br>| 基本类型         |          类类型           | 前缀/后缀 |<br>| ———— | :——————–: | —-: |<br>| int          |   java.lang.Integer    |     i |<br>| float        |    java.lang.Float     |     f |<br>| double       |    java.lang.Double    |     d |<br>| boolean      |   java.lang.Boolean    |     b |<br>| short        |     java.lang.Shot     |    sh |<br>| long         |     java.lang.Long     |     l |<br>| date         |     java.util.Date     |    dt |<br>| string       |    java.lang.String    |     s |<br>| StringBuffer | java.lang.StringBuffer |    sb |<br>| file         |      java.io.File      |  file |<br>| list         |     java.util.List     |  list |<br>| 数组           |           -            |   ary |<br>| map          |     java.util.Map      |   map |</p>
<h3 id="7-文件夹"><a href="#7-文件夹" class="headerlink" title="7.文件夹"></a>7.文件夹</h3><p>样式相关文件，如css，img，样式相关的js文件应当保存在同一个文件夹下。</p>
<h3 id="8-文件名"><a href="#8-文件名" class="headerlink" title="8.文件名"></a>8.文件名</h3><p>jsp文件名应当以小写字母开头。<br>Jsp文件名建议与对应的请求action名一致。</p>
<p>css文件名应当进行归类。如布局相关的可叫做layout.css。导航栏的可以叫navigation.css。等。</p>
<p>js文件名应当有意义。index.js  bar.js</p>
<p>Spring的配置文件应当以spring-开头<br>Struts的配置文件应当以struts-开头<br>数据库配置database.properties<br>配置文件config.properties</p>
<h3 id="9-注释"><a href="#9-注释" class="headerlink" title="9.注释"></a>9.注释</h3><p>类注释应当包括：作者、创建日期、版本、类描述、修改记录。</p>
<p>抽象类：描述实现着需要关注的东西。</p>
<p>实现类：类的主要功能。</p>
<p>继承性接口：描述实现者需要特别关注的东西。</p>
<p>一般接口：描述接口的主要功能。</p>
<p>一般方法：描述方法的主要功能，参数涵义，返回值涵义。</p>
<p>成员变量：描述成员变量的涵义。</p>
<p>重要算法注释：描述算法的思路。</p>
<p>类、类属性、类方法的注释必须使用 Javadoc 规范，使用/<em>*内容</em>/格式，不得使用// xxx 方式。</p>
<p>所有的抽象方法（包括接口中的方法） 必须要用 Javadoc 注释、除了返回值、参数、异常说明外，还必须指出该方法做什么事情，实现什么功能。</p>
<p>所有的类都必须添加创建者和创建日期。</p>
<p>方法内部单行注释，在被注释语句上方另起一行，使用//注释。方法内部多行注释使用/* */注释，注意与代码对齐。</p>
<p>代码修改的同时，注释也要进行相应的修改，尤其是参数、返回值、异常、核心逻辑等的修改。</p>
<h3 id="10-数组"><a href="#10-数组" class="headerlink" title="10.数组"></a>10.数组</h3><p>类型与中括号紧挨相连来表示数组。int[] arrayDemo;</p>
<h3 id="11-如果模块、-接口、类、方法使用了设计模式，在命名时需体现出具体模式。有利于阅读者快速理解架构设计理念。"><a href="#11-如果模块、-接口、类、方法使用了设计模式，在命名时需体现出具体模式。有利于阅读者快速理解架构设计理念。" class="headerlink" title="11.如果模块、 接口、类、方法使用了设计模式，在命名时需体现出具体模式。有利于阅读者快速理解架构设计理念。"></a>11.如果模块、 接口、类、方法使用了设计模式，在命名时需体现出具体模式。有利于阅读者快速理解架构设计理念。</h3><p>public class OrderFactory;<br>public class LoginProxy;<br>public class ResourceObserver;</p>
<h3 id="12-不允许任何魔法值（即未经预先定义的常量）-直接出现在代码中。"><a href="#12-不允许任何魔法值（即未经预先定义的常量）-直接出现在代码中。" class="headerlink" title="12.不允许任何魔法值（即未经预先定义的常量） 直接出现在代码中。"></a>12.不允许任何魔法值（即未经预先定义的常量） 直接出现在代码中。</h3><p>for(int i=0;i&lt;4;i++){***}</p>
<h3 id="13-在-long-或者-Long-赋值时，-数值后使用大写的-L。"><a href="#13-在-long-或者-Long-赋值时，-数值后使用大写的-L。" class="headerlink" title="13.在 long 或者 Long 赋值时， 数值后使用大写的 L。"></a>13.在 long 或者 Long 赋值时， 数值后使用大写的 L。</h3><p>Long a = 2l; 写的是数字的 21，还是 Long 型的 2?</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="1-大括号"><a href="#1-大括号" class="headerlink" title="1.大括号"></a>1.大括号</h3><p>左大括号前不换行。左大括号后换行。右大括号前换行。右大括号后还有 else 等代码则不换行。</p>
<h3 id="2-if-for-while-switch-do-等保留字与括号之间都必须加空格。"><a href="#2-if-for-while-switch-do-等保留字与括号之间都必须加空格。" class="headerlink" title="2.if/for/while/switch/do 等保留字与括号之间都必须加空格。"></a>2.if/for/while/switch/do 等保留字与括号之间都必须加空格。</h3><h3 id="3-任何二目、-三目运算符的左右两边都需要加一个空格。"><a href="#3-任何二目、-三目运算符的左右两边都需要加一个空格。" class="headerlink" title="3.任何二目、 三目运算符的左右两边都需要加一个空格。"></a>3.任何二目、 三目运算符的左右两边都需要加一个空格。</h3><p>运算符包括赋值运算符=、逻辑运算符&amp;&amp;、加减乘除符号等。</p>
<h3 id="4-采用-4-个空格缩进，禁止使用-tab-字符。"><a href="#4-采用-4-个空格缩进，禁止使用-tab-字符。" class="headerlink" title="4.采用 4 个空格缩进，禁止使用 tab 字符。"></a>4.采用 4 个空格缩进，禁止使用 tab 字符。</h3><p>如果使用 tab 缩进，必须设置 1 个 tab 为 4 个空格。 IDEA 设置 tab 为 4 个空格时，<br>请勿勾选 Use tab character；而在 eclipse 中，必须勾选 insert spaces for tabs。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 缩进 4 个空格</span></span><br><span class="line">	String say = <span class="string">"hello"</span>;</span><br><span class="line">	<span class="comment">// 运算符的左右必须有一个空格</span></span><br><span class="line">	<span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">// 关键词 if 与括号之间必须有一个空格，括号内的 f 与左括号， 0 与右括号不需要空格</span></span><br><span class="line">	<span class="keyword">if</span> (flag == <span class="number">0</span>) &#123;</span><br><span class="line">		System.out.println(say);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 左大括号前加空格且不换行；左大括号后换行</span></span><br><span class="line">	<span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">		System.out.println(<span class="string">"world"</span>);</span><br><span class="line">	<span class="comment">// 右大括号前换行，右大括号后有 else，不用换行</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">"ok"</span>);</span><br><span class="line">	<span class="comment">// 在右大括号后直接结束，则必须换行</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-注释的双斜线与注释内容之间有且仅有一个空格。"><a href="#5-注释的双斜线与注释内容之间有且仅有一个空格。" class="headerlink" title="5.注释的双斜线与注释内容之间有且仅有一个空格。"></a>5.注释的双斜线与注释内容之间有且仅有一个空格。</h3><p>// 这是示例注释，请注意在双斜线之后有一个空格<br>String ygb = new String();</p>
<h3 id="6-IDE-的-text-file-encoding-设置为-UTF-8-IDE-的换行符使用-Unix-格式，不要使用-Windows-格式。"><a href="#6-IDE-的-text-file-encoding-设置为-UTF-8-IDE-的换行符使用-Unix-格式，不要使用-Windows-格式。" class="headerlink" title="6.IDE 的 text file encoding 设置为 UTF-8; IDE 的换行符使用 Unix 格式，不要使用 Windows 格式。"></a>6.IDE 的 text file encoding 设置为 UTF-8; IDE 的换行符使用 Unix 格式，不要使用 Windows 格式。</h3><h3 id="7-Object-的-equals-方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals。"><a href="#7-Object-的-equals-方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals。" class="headerlink" title="7.Object 的 equals 方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals。"></a>7.Object 的 equals 方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals。</h3><p>“test”.equals(object);</p>
<p>java.util.Objects#equals（JDK7 引入的工具类）</p>
<h3 id="8-所有的相同类型的包装类对象之间值的比较，全部使用-equals-方法比较。"><a href="#8-所有的相同类型的包装类对象之间值的比较，全部使用-equals-方法比较。" class="headerlink" title="8.所有的相同类型的包装类对象之间值的比较，全部使用 equals 方法比较。"></a>8.所有的相同类型的包装类对象之间值的比较，全部使用 equals 方法比较。</h3><p>对于 Integer var = ? 在-128 至 127 范围内的赋值， Integer 对象是在<br>IntegerCache.cache 产生，会复用已有对象，这个区间内的 Integer 值可以直接使用==进行<br>判断，但是这个区间之外的所有数据，都会在堆上产生，并不会复用已有对象，这是一个大坑，<br>推荐使用 equals 方法进行判断。</p>
<h3 id="9-类成员与方法访问控制从严。"><a href="#9-类成员与方法访问控制从严。" class="headerlink" title="9.类成员与方法访问控制从严。"></a>9.类成员与方法访问控制从严。</h3><p>1） 如果不允许外部直接通过 new 来创建对象，那么构造方法必须是 private。<br>2） 工具类不允许有 public 或 default 构造方法。<br>3） 类非 static 成员变量并且与子类共享，必须是 protected。<br>4） 类非 static 成员变量并且仅在本类使用，必须是 private。<br>5） 类 static 成员变量如果仅在本类使用，必须是 private。<br>6） 若是 static 成员变量， 考虑是否为 final。<br>7） 类成员方法只供类内部调用，必须是 private。<br>8） 类成员方法只对继承类公开，那么限制为 protected。</p>
<p>过于宽泛的访问范围，不利于模块解耦。<br>如果是一个 private 的方法，想删除就删除，可是一个 public 的 service 成员方法或成员变量，删除一下，呵呵~~</p>
<h3 id="10-ArrayList的subList结果不可强转ArrayList-ClassCastException-。"><a href="#10-ArrayList的subList结果不可强转ArrayList-ClassCastException-。" class="headerlink" title="10.ArrayList的subList结果不可强转ArrayList(ClassCastException)。"></a>10.ArrayList的subList结果不可强转ArrayList(ClassCastException)。</h3><p>subList 返回的是 ArrayList 的内部类 SubList，并不是 ArrayList。</p>
<h3 id="11-不要在-foreach-循环里进行元素的-remove-add-操作。"><a href="#11-不要在-foreach-循环里进行元素的-remove-add-操作。" class="headerlink" title="11.不要在 foreach 循环里进行元素的 remove/add 操作。"></a>11.不要在 foreach 循环里进行元素的 remove/add 操作。</h3><p>remove 元素请使用 Iterator方式，如果并发操作，需要对 Iterator 对象加锁。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(<span class="string">"1"</span>);</span><br><span class="line">list.add(<span class="string">"2"</span>);</span><br><span class="line">Iterator&lt;String&gt; iterator = list.iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">	String item = iterator.next();</span><br><span class="line">	<span class="keyword">if</span> (删除元素的条件) &#123;</span><br><span class="line">		iterator.remove();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="12-集合初始化时，-指定集合初始值大小。"><a href="#12-集合初始化时，-指定集合初始值大小。" class="headerlink" title="12.集合初始化时， 指定集合初始值大小。"></a>12.集合初始化时， 指定集合初始值大小。</h3><p>HashMap 使用 HashMap(int initialCapacity) 初始化。<br>initialCapacity = (需要存储的元素个数 / 负载因子) + 1。<br>注意负载因子（即 loaderfactor） 默认为 0.75。(即当 元素个数 超过 容量长度的0.75倍 时，进行扩容)<br>如果暂时无法确定初始值大小，请设置为 16（即默认值） 。</p>
<h3 id="13-使用-entrySet-遍历-Map-类集合-KV，而不是-keySet-方式进行遍历。"><a href="#13-使用-entrySet-遍历-Map-类集合-KV，而不是-keySet-方式进行遍历。" class="headerlink" title="13.使用 entrySet 遍历 Map 类集合 KV，而不是 keySet 方式进行遍历。"></a>13.使用 entrySet 遍历 Map 类集合 KV，而不是 keySet 方式进行遍历。</h3><p>keySet 其实是遍历了 2 次，一次是转为 Iterator 对象，另一次是从 hashMap 中取出<br>key 所对应的 value。而 entrySet 只是遍历了一次就把 key 和 value 都放到了 entry 中，效<br>率更高。</p>
<h3 id="14-Map-类集合-K-V-能不能存储-null-值的情况。"><a href="#14-Map-类集合-K-V-能不能存储-null-值的情况。" class="headerlink" title="14.Map 类集合 K/V 能不能存储 null 值的情况。"></a>14.Map 类集合 K/V 能不能存储 null 值的情况。</h3><table>
<thead>
<tr>
<th>集合类</th>
<th align="center">Key</th>
<th align="center">Value</th>
<th align="center">Super</th>
<th align="right">说明</th>
</tr>
</thead>
<tbody><tr>
<td>Hashtable</td>
<td align="center">不允许为 null</td>
<td align="center">不允许为 null</td>
<td align="center">Dictionary</td>
<td align="right">线程安全</td>
</tr>
<tr>
<td>ConcurrentHashMap</td>
<td align="center">不允许为 null</td>
<td align="center">不允许为 null</td>
<td align="center">AbstractMap</td>
<td align="right">锁分段技术</td>
</tr>
<tr>
<td>TreeMap</td>
<td align="center">不允许为 null</td>
<td align="center">允许为 null</td>
<td align="center">AbstractMap</td>
<td align="right">线程不安全</td>
</tr>
<tr>
<td>HashMap</td>
<td align="center">允许为 null</td>
<td align="center">允许为 null</td>
<td align="center">AbstractMap</td>
<td align="right">线程不安全</td>
</tr>
</tbody></table>
<h3 id="15-创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。"><a href="#15-创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。" class="headerlink" title="15.创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。"></a>15.创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。</h3><p>public class TimerTaskThread extends Thread {<br>    public TimerTaskThread() {<br>        super.setName(“TimerTaskThread”);<br>        …<br>    }<br>}</p>
<h3 id="16-对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。"><a href="#16-对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。" class="headerlink" title="16.对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。"></a>16.对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。</h3><p>线程一需要对表 A、 B、 C 依次全部加锁后才可以进行更新操作，那么线程二的加锁顺序也必须是 A、 B、 C，否则可能出现死锁。</p>
<h3 id="17-在-if-else-for-while-do-语句中必须使用大括号。"><a href="#17-在-if-else-for-while-do-语句中必须使用大括号。" class="headerlink" title="17.在 if/else/for/while/do 语句中必须使用大括号。"></a>17.在 if/else/for/while/do 语句中必须使用大括号。</h3><p>即使只有一行代码，避免采用单行的编码方式： if (condition) statements。</p>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="1-表名、字段名必须使用小写字母或数字，-禁止出现数字开头，禁止两个下划线中间只出现数字。"><a href="#1-表名、字段名必须使用小写字母或数字，-禁止出现数字开头，禁止两个下划线中间只出现数字。" class="headerlink" title="1.表名、字段名必须使用小写字母或数字， 禁止出现数字开头，禁止两个下划线中间只出现数字。"></a>1.表名、字段名必须使用小写字母或数字， 禁止出现数字开头，禁止两个下划线中间只出现数字。</h3><h3 id="2-主键索引名为-pk-字段名；-唯一索引名为-uk-字段名；-普通索引名则为-idx-字段名。"><a href="#2-主键索引名为-pk-字段名；-唯一索引名为-uk-字段名；-普通索引名则为-idx-字段名。" class="headerlink" title="2.主键索引名为 pk_字段名； 唯一索引名为 uk_字段名； 普通索引名则为 idx_字段名。"></a>2.主键索引名为 pk_字段名； 唯一索引名为 uk_字段名； 普通索引名则为 idx_字段名。</h3><h3 id="3-小数类型为-decimal，禁止使用-float-和-double。"><a href="#3-小数类型为-decimal，禁止使用-float-和-double。" class="headerlink" title="3.小数类型为 decimal，禁止使用 float 和 double。"></a>3.小数类型为 decimal，禁止使用 float 和 double。</h3><p>float 和 double 在存储的时候，存在精度损失的问题，很可能在值的比较时，得到不正确的结果。</p>
<h3 id="4-如果存储的字符串长度几乎相等，使用-char-定长字符串类型。"><a href="#4-如果存储的字符串长度几乎相等，使用-char-定长字符串类型。" class="headerlink" title="4.如果存储的字符串长度几乎相等，使用 char 定长字符串类型。"></a>4.如果存储的字符串长度几乎相等，使用 char 定长字符串类型。</h3><h3 id="5-varchar-是可变长字符串，不预先分配存储空间，长度不要超过-5000，"><a href="#5-varchar-是可变长字符串，不预先分配存储空间，长度不要超过-5000，" class="headerlink" title="5.varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，"></a>5.varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，</h3><p>如果存储长度大于此值，定义字段类型为 text，<br>独立出来一张表，用主键来对应，避免影响其它字段索引效率。</p>
<h3 id="6-表必备三字段：-id-gmt-create-gmt-modified。"><a href="#6-表必备三字段：-id-gmt-create-gmt-modified。" class="headerlink" title="6.表必备三字段： id, gmt_create, gmt_modified。"></a>6.表必备三字段： id, gmt_create, gmt_modified。</h3><h3 id="7-不要使用-count-列名-或-count-常量-来替代-count"><a href="#7-不要使用-count-列名-或-count-常量-来替代-count" class="headerlink" title="7.不要使用 count(列名)或 count(常量)来替代 count(*)"></a>7.不要使用 count(列名)或 count(常量)来替代 count(*)</h3><p>count(*)会统计值为 NULL 的行，而 count(列名)不会统计此列为 NULL 值的行。</p>
<h3 id="8-当某一列的值全是-NULL-时，-count-col-的返回结果为-0，但-sum-col-的返回结果为NULL，因此使用-sum-时需注意-NPE-问题。"><a href="#8-当某一列的值全是-NULL-时，-count-col-的返回结果为-0，但-sum-col-的返回结果为NULL，因此使用-sum-时需注意-NPE-问题。" class="headerlink" title="8.当某一列的值全是 NULL 时， count(col)的返回结果为 0，但 sum(col)的返回结果为NULL，因此使用 sum()时需注意 NPE 问题。"></a>8.当某一列的值全是 NULL 时， count(col)的返回结果为 0，但 sum(col)的返回结果为NULL，因此使用 sum()时需注意 NPE 问题。</h3><p>可以使用如下方式来避免 sum 的 NPE 问题： SELECT IF(ISNULL(SUM(g)),0,SUM(g)) FROM table;</p>
<h3 id="9-禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。"><a href="#9-禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。" class="headerlink" title="9.禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。"></a>9.禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。</h3><h3 id="10-数据库命名与应用名称相同。"><a href="#10-数据库命名与应用名称相同。" class="headerlink" title="10.数据库命名与应用名称相同。"></a>10.数据库命名与应用名称相同。</h3><h3 id="11-表命名"><a href="#11-表命名" class="headerlink" title="11.表命名"></a>11.表命名</h3><p>T_ZJ_SCDB                       – 表_侦监_审查逮捕<br>T_ZJ_SCDB_XYR                   – 表_侦监_审查逮捕_嫌疑人<br>T_ZJ_SCDB_XYR_AY                – 表_侦监_审查逮捕_嫌疑人_案由<br>T_ZJ_SCDB_XYR_AY_XJ             – 表_侦监_审查逮捕_嫌疑人_案由_细节</p>
<h3 id="12-字段命名"><a href="#12-字段命名" class="headerlink" title="12.字段命名"></a>12.字段命名</h3><p>C_XM                      – 姓名<br>N_XB                      – 性别<br>N_BH                      – 编号<br>D_CSRQ                    – 出生日期<br>D_TCSJ                    – 提出时间</p>
<h3 id="13-主键命名"><a href="#13-主键命名" class="headerlink" title="13.主键命名"></a>13.主键命名</h3><p>PK_XS_BS                        – 表XS以字段BS创建主键</p>
<h3 id="14-外键命名"><a href="#14-外键命名" class="headerlink" title="14.外键命名"></a>14.外键命名</h3><p>FK_XS_DSR                       – 在表XS的字段DSR上创建外键</p>
<h3 id="15-索引命名"><a href="#15-索引命名" class="headerlink" title="15.索引命名"></a>15.索引命名</h3><p>IDX_FJWZFP_NSRDZDAH_NSRLX       – 索引_废旧物资发票表_电子档案号_纳税人类型</p>
<h3 id="16-视图命名"><a href="#16-视图命名" class="headerlink" title="16.视图命名"></a>16.视图命名</h3><p>V_ZJ_SCDB_WS                    – 视图_侦监_审查逮捕_文书</p>
<h3 id="17-函数命名"><a href="#17-函数命名" class="headerlink" title="17.函数命名"></a>17.函数命名</h3><p>FN_CREATE_N_ID                    – 函数_创建id</p>
<h3 id="18-触发器命名"><a href="#18-触发器命名" class="headerlink" title="18.触发器命名"></a>18.触发器命名</h3><p>TR_AJGL_IU                      – 对AJGL表进行插入、更新的触发器</p>
<h3 id="19-SQL"><a href="#19-SQL" class="headerlink" title="19.SQL"></a>19.SQL</h3><p>如果删除表中全部行，不准使用delete，而应该使用truncate；<br>select 语句中，不允许在where后面加上类似 “1 = 1” 的条件；<br>select 语句中，对不应该使用distinct的地方不使用；<br>select 语句中，尽量枚举所有字段，避免使用”*”</p>
<h2 id="数据库编码范例"><a href="#数据库编码范例" class="headerlink" title="数据库编码范例"></a>数据库编码范例</h2><h3 id="select-语句"><a href="#select-语句" class="headerlink" title="select 语句"></a>select 语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">select</span> N_ID, N_BH, C_XM, C_AH</span><br><span class="line">  <span class="keyword">from</span> T_REPCONFIGINFO_DEF</span><br><span class="line"> <span class="keyword">where</span> N_LX = <span class="number">1</span></span><br><span class="line">   <span class="keyword">and</span> C_C_AH = <span class="string">'审查逮捕2006第一号'</span></span><br></pre></td></tr></table></figure>

<h3 id="update-语句"><a href="#update-语句" class="headerlink" title="update 语句"></a>update 语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">update</span> T_REPCONFIGINFO_DEF</span><br><span class="line">   <span class="keyword">set</span> N_ID   = <span class="number">1000000000000</span>,</span><br><span class="line">       N_BH   = <span class="number">1000000000001</span>,</span><br><span class="line">       C_XM   = <span class="string">'姓名'</span>,</span><br><span class="line">       C_AH   = <span class="string">'案号'</span>,</span><br><span class="line">       D_LARQ = <span class="string">'20080808'</span>,</span><br><span class="line">       D_SARQ = <span class="string">'20080808'</span>,</span><br><span class="line">       D_JARQ = <span class="string">'20080808'</span>,</span><br><span class="line">       D_CSRQ = <span class="string">'20080808'</span>,</span><br><span class="line">       N_CLJG = <span class="number">1</span></span><br><span class="line"> <span class="keyword">where</span> N_LX = <span class="number">1</span></span><br><span class="line">   <span class="keyword">and</span> C_AH = <span class="string">'审查逮捕2006第一号'</span></span><br></pre></td></tr></table></figure>

<h3 id="insert-语句"><a href="#insert-语句" class="headerlink" title="insert 语句"></a>insert 语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> T_AJGL_LX( C_AH, N_SL, N_DJ ) <span class="keyword">values</span> ( <span class="string">'反贪立案案件'</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> T_AJGL_LX( C_AH, N_SL, N_DJ ) <span class="keyword">values</span> ( <span class="string">'反贪立案案件'</span>, <span class="number">2</span>, <span class="number">6</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> T_AJGL_LX( C_AH, N_SL, N_DJ ) <span class="keyword">values</span> ( <span class="string">'反贪立案案件'</span>, <span class="number">3</span>, <span class="number">7</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> T_AJGL_LX( C_AH, N_SL, N_DJ ) <span class="keyword">values</span> ( <span class="string">'反贪立案案件'</span>, <span class="number">4</span>, <span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<h3 id="建表"><a href="#建表" class="headerlink" title="建表"></a>建表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> OLAP20.FACT_FPCGL</span><br><span class="line">(</span><br><span class="line">  C_FPDM         <span class="built_in">char</span>(<span class="number">10</span> <span class="keyword">byte</span>)                  <span class="keyword">not</span> <span class="literal">null</span>, <span class="comment">-- 发票代码 </span></span><br><span class="line">  C_FPHM         <span class="built_in">char</span>(<span class="number">8</span> <span class="keyword">byte</span>)                   <span class="keyword">not</span> <span class="literal">null</span>, <span class="comment">-- 发票号码 </span></span><br><span class="line">  N_SL           <span class="built_in">number</span>(<span class="number">19</span>,<span class="number">2</span>)                       <span class="literal">null</span>, <span class="comment">-- 税率 </span></span><br><span class="line">  C_HY_DM_OLD    varchar2(<span class="number">6</span> <span class="keyword">byte</span>)                   <span class="literal">null</span>, <span class="comment">-- 行业代码 </span></span><br><span class="line">  C_NSR_SWJG_DM  <span class="built_in">char</span>(<span class="number">11</span> <span class="keyword">byte</span>)                      <span class="literal">null</span>, <span class="comment">-- 纳税人税务机构代码 </span></span><br><span class="line">  C_DJZCLX_DM    <span class="built_in">char</span>(<span class="number">3</span> <span class="keyword">byte</span>)                       <span class="literal">null</span>, <span class="comment">-- 登记注册类型代码 </span></span><br><span class="line">  C_ZGSWRY_DM    varchar2(<span class="number">11</span> <span class="keyword">byte</span>)                  <span class="literal">null</span>, <span class="comment">-- 主管税务人员代码 </span></span><br><span class="line">  C_GSYLB_DM     <span class="built_in">char</span>(<span class="number">1</span> <span class="keyword">byte</span>)                       <span class="literal">null</span>, <span class="comment">-- 工商业类别代码 </span></span><br><span class="line">  C_LSGX_DM      <span class="built_in">char</span>(<span class="number">2</span> <span class="keyword">byte</span>)                       <span class="literal">null</span>, <span class="comment">-- 隶属关系代码 </span></span><br><span class="line">  C_NSRZT_DM     <span class="built_in">char</span>(<span class="number">2</span> <span class="keyword">byte</span>)                       <span class="literal">null</span>, <span class="comment">-- 纳税人状态代码 </span></span><br><span class="line">  C_JDXZ_DM      <span class="built_in">char</span>(<span class="number">10</span> <span class="keyword">byte</span>)                      <span class="literal">null</span>, <span class="comment">-- 街道乡镇代码 </span></span><br><span class="line">  C_HY_DM        varchar2(<span class="number">6</span> <span class="keyword">byte</span>)                   <span class="literal">null</span>, <span class="comment">-- 行业明细代码 </span></span><br><span class="line">  N_NSRDZDAH     <span class="built_in">number</span>(<span class="number">20</span>)                         <span class="literal">null</span>, <span class="comment">-- 纳税人电子档案号 </span></span><br><span class="line">  C_BBQ          varchar2(<span class="number">8</span> <span class="keyword">byte</span>)                   <span class="literal">null</span>  <span class="comment">-- 报表期 </span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="建视图"><a href="#建视图" class="headerlink" title="建视图"></a>建视图</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">force</span> <span class="keyword">view</span> OLAP20.V_TasK_LOG</span><br><span class="line"><span class="keyword">as</span> </span><br><span class="line">(</span><br><span class="line">  <span class="keyword">select</span> to_char(D_LDATE,</span><br><span class="line">                 <span class="string">'MM-DD, HH24:MI:SS'</span>) <span class="string">"TIME"</span>,</span><br><span class="line">         PLOG.GETLEVELINTEXT(LLEVEL) <span class="string">"LEVEL"</span>,</span><br><span class="line">         C_LUSER    <span class="string">"USER"</span>,</span><br><span class="line">         C_LSECTION <span class="string">"SECTION"</span>,</span><br><span class="line">         C_LTEXTE   <span class="string">"TEXT"</span></span><br><span class="line">    <span class="keyword">from</span> (<span class="keyword">select</span> *</span><br><span class="line">            <span class="keyword">from</span> TLOG</span><br><span class="line">           <span class="keyword">where</span> C_LSECTION = <span class="string">'PK_TasK'</span></span><br><span class="line">           <span class="keyword">order</span> <span class="keyword">by</span> N_ID <span class="keyword">DESC</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="不规范代码"><a href="#不规范代码" class="headerlink" title="不规范代码"></a>不规范代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(ts==<span class="keyword">null</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (list.get(i) == <span class="keyword">null</span> || list.get(i) == <span class="string">""</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sb.append(list.get(i).trim());</span><br><span class="line">    sb.append(<span class="string">";"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> (StringUtils.isNotBlank(dqdw) &amp;&amp; FxryConsts.CORP_ID_FJ.equals(dqdw)) &#123;</span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">    result.append(<span class="string">" and ("</span> + qxsql</span><br><span class="line">            + <span class="string">" in (SELECT C_ID FROM DB_JY..T_SYS_CORP WHERE C_ID= "</span></span><br><span class="line">            + FxryConsts.CORP_ID_FJ + <span class="string">" OR C_PID = "</span></span><br><span class="line">            + FxryConsts.CORP_ID_FJ + <span class="string">" OR C_ID = "</span></span><br><span class="line">            + FxryConsts.CORP_ID_SJ + <span class="string">" )) "</span>);</span><br><span class="line">    <span class="keyword">return</span> result.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">StringBuffer sql = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">sql.append(***);</span><br><span class="line">sql.append(<span class="string">"  from DB_ZFJY..T_YNGW_DD dd  left join DB_ZFJY..T_YNGW_WP wp on dd.C_WPID =wp.C_ID "</span>);</span><br><span class="line">sql.append(<span class="string">" left join   DB_JY..T_ZF_JBXX jbxx   on  jbxx.N_ZFXH =dd.C_ZFID left join "</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">ds_rs3</span><span class="params">(IQueryInfo qp)</span> </span>&#123;</span><br><span class="line">    String sjbh = ArteryParamUtil.getString(<span class="string">"sjbh"</span>);</span><br><span class="line">    <span class="keyword">int</span> count = service.doQueryStts(sjbh);</span><br><span class="line">    List&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">    <span class="keyword">if</span> (count % DmConsts.RS_NO_FIVE == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count / DmConsts.RS_NO_FIVE; i++) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; m = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">            m.put(<span class="string">"text"</span>, i * DmConsts.RS_NO_FIVE + <span class="number">1</span> + <span class="string">"..."</span> + (i + <span class="number">1</span>)</span><br><span class="line">                    * DmConsts.RS_NO_FIVE + <span class="string">"题"</span>);</span><br><span class="line">            list.add(m);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count / DmConsts.RS_NO_FIVE + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; m = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">            <span class="keyword">if</span> (count % DmConsts.RS_NO_FIVE == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == count / DmConsts.RS_NO_FIVE) &#123;</span><br><span class="line">                    m.put(<span class="string">"text"</span>, count + <span class="string">"题"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    m.put(<span class="string">"text"</span>, i * DmConsts.RS_NO_FIVE + <span class="number">1</span> + <span class="string">"..."</span></span><br><span class="line">                            + (i + <span class="number">1</span>) * DmConsts.RS_NO_FIVE + <span class="string">"题"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == count / DmConsts.RS_NO_FIVE) &#123;</span><br><span class="line">                    m.put(<span class="string">"text"</span>, i * DmConsts.RS_NO_FIVE + <span class="number">1</span> + <span class="string">"..."</span></span><br><span class="line">                            + count + <span class="string">"题"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    m.put(<span class="string">"text"</span>, i * DmConsts.RS_NO_FIVE + <span class="number">1</span> + <span class="string">"..."</span></span><br><span class="line">                            + (i + <span class="number">1</span>) * DmConsts.RS_NO_FIVE + <span class="string">"题"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(m);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">YlaMgajDto ylaDto = (YlaMgajDto) result.get(<span class="string">"ylaMgajDto"</span>);</span><br><span class="line">List&lt;YlaDsrDto&gt; dsrDtos = <span class="keyword">new</span> ArrayList&lt;YlaDsrDto&gt;();</span><br><span class="line">YlaAyDto ayDto = ylaDto.getAyDto();</span><br><span class="line"><span class="keyword">if</span> (ylaDto != <span class="keyword">null</span>) &#123;</span><br><span class="line">    dsrDtos = ylaDto.getDsrDtos();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>问题：第三行已经使用ylaDao了，第四行还判空有意义么？如果if成立，那么第二行new的ArrayList就多余了。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">Document document = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	map = webserviceUtil.bean2map(object);</span><br><span class="line">    Element root = DocumentHelper.createElement(<span class="string">"root"</span>);</span><br><span class="line">    document = DocumentHelper.createDocument(root);</span><br><span class="line">	******</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> document.asXML();</span><br></pre></td></tr></table></figure>

<ul>
<li>问题：webserviceUtil.bean2map(object)如果抛出异常，document为null，document.asXML()会抛出NPE。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setData1</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">	$(<span class="string">'.fd-tab1-right .fd-div-content'</span>).html(<span class="string">''</span>);</span><br><span class="line">	$(<span class="string">'.fd-select-03'</span>).html(<span class="string">''</span>);</span><br><span class="line">	$(<span class="string">'.fd-select-04'</span>).html(<span class="string">''</span>);</span><br><span class="line">	$(<span class="string">'.fd-tab1-right .fd-item-showAll'</span>).html(<span class="string">'展开全部'</span>);</span><br><span class="line">	<span class="keyword">var</span> sum=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">0</span>;k&lt;data.length;k++)&#123;</span><br><span class="line">		sum+=data[k].count;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">			*****</span><br><span class="line">               <span class="comment">// bottom</span></span><br><span class="line">              <span class="keyword">for</span> (<span class="keyword">var</span> m = <span class="number">0</span>; m &lt;time.info.length; m++) &#123;</span><br><span class="line">               	<span class="keyword">var</span> html = <span class="string">''</span>;</span><br><span class="line">               	<span class="keyword">if</span> (time.info[m].name == <span class="string">'周'</span>) &#123;</span><br><span class="line">               		html = <span class="string">"&lt;option selected value="</span> + m + <span class="string">"&gt;"</span> + time.info[m].name +<span class="string">"&lt;/option&gt;"</span>;</span><br><span class="line">               	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               		html = <span class="string">"&lt;option value="</span> + m + <span class="string">"&gt;"</span> + time.info[m].name +<span class="string">"&lt;/option&gt;"</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				$(<span class="string">'.fd-select-03'</span>).append(html);</span><br><span class="line">				<span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">					<span class="keyword">var</span> obj=countIndustryUse();</span><br><span class="line">					<span class="keyword">var</span> jsonarr=[</span><br><span class="line">		                [<span class="string">"政法委"</span>,obj[ZFW]!=<span class="literal">undefined</span>?obj[ZFW]:<span class="number">0</span>],</span><br><span class="line">		                [<span class="string">"法院"</span>,obj[FY]!=<span class="literal">undefined</span>?obj[FY]:<span class="number">0</span>],</span><br><span class="line">		                [<span class="string">"检察"</span>,obj[JC]!=<span class="literal">undefined</span>?obj[JC]:<span class="number">0</span>],</span><br><span class="line">		                [<span class="string">"公安"</span>,obj[GA]!=<span class="literal">undefined</span>?obj[GA]:<span class="number">0</span>],</span><br><span class="line">		                [<span class="string">"司法"</span>,obj[SF]!=<span class="literal">undefined</span>?obj[SF]:<span class="number">0</span>],</span><br><span class="line">		                [<span class="string">"行政"</span>,obj[XZ]!=<span class="literal">undefined</span>?obj[XZ]:<span class="number">0</span>],</span><br><span class="line">		                [<span class="string">"其他"</span>,obj[QT]!=<span class="literal">undefined</span>?obj[QT]:<span class="number">0</span>]</span><br><span class="line">		               </span><br><span class="line">		            ];</span><br><span class="line">					$(<span class="string">'#js-line1'</span>).highcharts(getOption_pie2(jsonarr,<span class="string">'数据资源'</span>));</span><br><span class="line">				&#125;</span><br><span class="line">               &#125;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据系统名获取到业务的数据量  当systemName为空的时候 查询所有系统的数据量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countIndustryUse</span>(<span class="params">systemName</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> tableIndustryObj=&#123;&#125;;</span><br><span class="line">	<span class="keyword">var</span> tmpTableIndustryObj=&#123;&#125;;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> data)&#123;</span><br><span class="line">		<span class="keyword">var</span> system=data[key];</span><br><span class="line">		<span class="keyword">var</span> tables=system.tables;</span><br><span class="line">		<span class="keyword">if</span>(systemName)&#123;</span><br><span class="line">			<span class="keyword">if</span>(systemName==key)&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;tables.length;i++)&#123;</span><br><span class="line">					<span class="keyword">var</span> table=tables[i];</span><br><span class="line">					<span class="keyword">var</span> industryName=table.industryName;</span><br><span class="line">					<span class="keyword">var</span> value=table.dataNum;</span><br><span class="line">					<span class="keyword">if</span>(tableIndustryObj[industryName])&#123;</span><br><span class="line">						tableIndustryObj[industryName]+=value;</span><br><span class="line">						</span><br><span class="line">					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">						tableIndustryObj[industryName]=value;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;tables.length;i++)&#123;</span><br><span class="line">				<span class="keyword">var</span> table=tables[i];</span><br><span class="line">				<span class="keyword">var</span> industryName=table.industryName;</span><br><span class="line">				<span class="keyword">var</span> tableName=table.tableName;</span><br><span class="line">				<span class="keyword">var</span> value=table.dataNum;</span><br><span class="line">				<span class="keyword">if</span>(!tmpTableIndustryObj[industryName+<span class="string">'_'</span>+tableName])&#123;</span><br><span class="line">					tmpTableIndustryObj[industryName+<span class="string">'_'</span>+tableName]=value;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(!systemName)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> tmpkey <span class="keyword">in</span> tmpTableIndustryObj)&#123;</span><br><span class="line">			<span class="keyword">var</span> industryValue=tmpkey.substring(<span class="number">0</span>,tmpkey.indexOf(<span class="string">'_'</span>));</span><br><span class="line">			<span class="keyword">if</span>(tableIndustryObj[industryValue])&#123;</span><br><span class="line">				tableIndustryObj[industryValue]+=tmpTableIndustryObj[tmpkey];</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				tableIndustryObj[industryValue]=tmpTableIndustryObj[tmpkey];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> tableIndustryObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">String str=<span class="string">"Hello!"</span>;</span><br><span class="line">str.substring(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">System.out.println(str); ?</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ReentrantLock ftpDownLoadLock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">downFileFromFTP</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;    </span><br><span class="line">          	....</span><br><span class="line">           FTPFile[] fs = ftpClient.listFiles(fileUrl);</span><br><span class="line">           <span class="keyword">for</span> (FTPFile ff : fs) &#123;</span><br><span class="line">               <span class="keyword">if</span> (ff.getName().equals(fileName)) &#123;</span><br><span class="line">                   ...   </span><br><span class="line">                   <span class="keyword">if</span>(localFile.exists())&#123;</span><br><span class="line">                       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                       ftpDownLoadLock.lock();</span><br><span class="line">                       <span class="keyword">if</span>(localFile.exists())&#123;</span><br><span class="line">                           ftpDownLoadLock.unlock();</span><br><span class="line">                           <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                       &#125;</span><br><span class="line">                       ...  </span><br><span class="line">                       ftpDownLoadLock.unlock();</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           ftpClient.logout();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           logger.error(<span class="string">"从ftp下载文件出错"</span> + e);</span><br><span class="line">       &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          ...</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">***</span><br><span class="line">      String kssj = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>).format(dtKssj);</span><br><span class="line">      String jssj = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>).format(dtJssj);</span><br><span class="line">****</span><br></pre></td></tr></table></figure>

<h2 id="几个小问题-PostgreSQL或Abase"><a href="#几个小问题-PostgreSQL或Abase" class="headerlink" title="几个小问题(PostgreSQL或Abase)"></a>几个小问题(PostgreSQL或Abase)</h2><h3 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h3><p>create table c_test(<br>   “C_BH” char(32)<br>);</p>
<p>INSERT INTO c_test VALUES (‘444’);</p>
<p>select * from c_test where C_BH=’444’;  结果？</p>
<p>select * from c_test where “C_BH”=’444’;  结果？</p>
<h3 id="问题二"><a href="#问题二" class="headerlink" title="问题二"></a>问题二</h3><p>create table c_test(<br>   C_BH char(32)<br>);</p>
<p>INSERT INTO c_test VALUES (‘444’);</p>
<p>select * from c_test where C_BH=’444’;  结果？</p>
<p>select * from c_test where “C_BH”=’444’;  结果？</p>
<h3 id="问题三"><a href="#问题三" class="headerlink" title="问题三"></a>问题三</h3><p>create table c_test(<br>   “c_bh” char(32)<br>);</p>
<p>INSERT INTO c_test VALUES (‘444’);</p>
<p>select * from c_test where c_bh=’444’;  结果？</p>
<p>select * from c_test where “c_bh”=’444’;  结果？</p>
</div><div class="tags"><a href="/tags/java/">java</a></div><div class="post-share"></div><div class="post-nav"><a href="/2019/05/10/正则表达式/" class="pre">正则表达式</a><a href="/2019/05/10/GoogleJava编程风格指南/" class="next">GoogleJava编程风格指南</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#命名规范"><span class="toc-text">命名规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-包名"><span class="toc-text">1.包名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-类名，方法名"><span class="toc-text">2.类名，方法名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-接口"><span class="toc-text">3.接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-成员变量名"><span class="toc-text">4.成员变量名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-方法参数名"><span class="toc-text">5.方法参数名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-临时变量名"><span class="toc-text">6.临时变量名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-文件夹"><span class="toc-text">7.文件夹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-文件名"><span class="toc-text">8.文件名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-注释"><span class="toc-text">9.注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-数组"><span class="toc-text">10.数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-如果模块、-接口、类、方法使用了设计模式，在命名时需体现出具体模式。有利于阅读者快速理解架构设计理念。"><span class="toc-text">11.如果模块、 接口、类、方法使用了设计模式，在命名时需体现出具体模式。有利于阅读者快速理解架构设计理念。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-不允许任何魔法值（即未经预先定义的常量）-直接出现在代码中。"><span class="toc-text">12.不允许任何魔法值（即未经预先定义的常量） 直接出现在代码中。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-在-long-或者-Long-赋值时，-数值后使用大写的-L。"><span class="toc-text">13.在 long 或者 Long 赋值时， 数值后使用大写的 L。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码"><span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-大括号"><span class="toc-text">1.大括号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-if-for-while-switch-do-等保留字与括号之间都必须加空格。"><span class="toc-text">2.if/for/while/switch/do 等保留字与括号之间都必须加空格。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-任何二目、-三目运算符的左右两边都需要加一个空格。"><span class="toc-text">3.任何二目、 三目运算符的左右两边都需要加一个空格。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-采用-4-个空格缩进，禁止使用-tab-字符。"><span class="toc-text">4.采用 4 个空格缩进，禁止使用 tab 字符。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-注释的双斜线与注释内容之间有且仅有一个空格。"><span class="toc-text">5.注释的双斜线与注释内容之间有且仅有一个空格。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-IDE-的-text-file-encoding-设置为-UTF-8-IDE-的换行符使用-Unix-格式，不要使用-Windows-格式。"><span class="toc-text">6.IDE 的 text file encoding 设置为 UTF-8; IDE 的换行符使用 Unix 格式，不要使用 Windows 格式。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Object-的-equals-方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals。"><span class="toc-text">7.Object 的 equals 方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-所有的相同类型的包装类对象之间值的比较，全部使用-equals-方法比较。"><span class="toc-text">8.所有的相同类型的包装类对象之间值的比较，全部使用 equals 方法比较。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-类成员与方法访问控制从严。"><span class="toc-text">9.类成员与方法访问控制从严。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-ArrayList的subList结果不可强转ArrayList-ClassCastException-。"><span class="toc-text">10.ArrayList的subList结果不可强转ArrayList(ClassCastException)。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-不要在-foreach-循环里进行元素的-remove-add-操作。"><span class="toc-text">11.不要在 foreach 循环里进行元素的 remove/add 操作。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-集合初始化时，-指定集合初始值大小。"><span class="toc-text">12.集合初始化时， 指定集合初始值大小。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-使用-entrySet-遍历-Map-类集合-KV，而不是-keySet-方式进行遍历。"><span class="toc-text">13.使用 entrySet 遍历 Map 类集合 KV，而不是 keySet 方式进行遍历。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-Map-类集合-K-V-能不能存储-null-值的情况。"><span class="toc-text">14.Map 类集合 K/V 能不能存储 null 值的情况。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。"><span class="toc-text">15.创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。"><span class="toc-text">16.对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-在-if-else-for-while-do-语句中必须使用大括号。"><span class="toc-text">17.在 if/else/for/while/do 语句中必须使用大括号。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库"><span class="toc-text">数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-表名、字段名必须使用小写字母或数字，-禁止出现数字开头，禁止两个下划线中间只出现数字。"><span class="toc-text">1.表名、字段名必须使用小写字母或数字， 禁止出现数字开头，禁止两个下划线中间只出现数字。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-主键索引名为-pk-字段名；-唯一索引名为-uk-字段名；-普通索引名则为-idx-字段名。"><span class="toc-text">2.主键索引名为 pk_字段名； 唯一索引名为 uk_字段名； 普通索引名则为 idx_字段名。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-小数类型为-decimal，禁止使用-float-和-double。"><span class="toc-text">3.小数类型为 decimal，禁止使用 float 和 double。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-如果存储的字符串长度几乎相等，使用-char-定长字符串类型。"><span class="toc-text">4.如果存储的字符串长度几乎相等，使用 char 定长字符串类型。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-varchar-是可变长字符串，不预先分配存储空间，长度不要超过-5000，"><span class="toc-text">5.varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-表必备三字段：-id-gmt-create-gmt-modified。"><span class="toc-text">6.表必备三字段： id, gmt_create, gmt_modified。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-不要使用-count-列名-或-count-常量-来替代-count"><span class="toc-text">7.不要使用 count(列名)或 count(常量)来替代 count(*)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-当某一列的值全是-NULL-时，-count-col-的返回结果为-0，但-sum-col-的返回结果为NULL，因此使用-sum-时需注意-NPE-问题。"><span class="toc-text">8.当某一列的值全是 NULL 时， count(col)的返回结果为 0，但 sum(col)的返回结果为NULL，因此使用 sum()时需注意 NPE 问题。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。"><span class="toc-text">9.禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-数据库命名与应用名称相同。"><span class="toc-text">10.数据库命名与应用名称相同。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-表命名"><span class="toc-text">11.表命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-字段命名"><span class="toc-text">12.字段命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-主键命名"><span class="toc-text">13.主键命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-外键命名"><span class="toc-text">14.外键命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-索引命名"><span class="toc-text">15.索引命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-视图命名"><span class="toc-text">16.视图命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-函数命名"><span class="toc-text">17.函数命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-触发器命名"><span class="toc-text">18.触发器命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-SQL"><span class="toc-text">19.SQL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库编码范例"><span class="toc-text">数据库编码范例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#select-语句"><span class="toc-text">select 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#update-语句"><span class="toc-text">update 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insert-语句"><span class="toc-text">insert 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建表"><span class="toc-text">建表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建视图"><span class="toc-text">建视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#不规范代码"><span class="toc-text">不规范代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#几个小问题-PostgreSQL或Abase"><span class="toc-text">几个小问题(PostgreSQL或Abase)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题一"><span class="toc-text">问题一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题二"><span class="toc-text">问题二</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题三"><span class="toc-text">问题三</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/07/02/LRU算法/">LRU算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/28/MySql中SQL语句执行慢的原因/">MySql中SQL语句执行慢的原因</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/21/GoogleJava编程风格指南/">String中的intern</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/20/系统内存管理/">系统内存管理</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/10/ZooKeeper基础/">ZooKeeper基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/05/centos7安装mysql5.7/">centos7安装mysql5.7</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/24/线程中断/">线程中断</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/13/jQuery入门/">jQuery入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/13/git常用命令/">git常用命令</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/13/单点登录/">单点登录</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/java基础/">java基础</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/专项技术/">专项技术</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他工具/">其他工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/平台软件/">平台软件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术规范/">技术规范</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/String/" style="font-size: 15px;">String</a> <a href="/tags/ZooKeeper/" style="font-size: 15px;">ZooKeeper</a> <a href="/tags/线程/" style="font-size: 15px;">线程</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/单点登录/" style="font-size: 15px;">单点登录</a> <a href="/tags/操作系统/" style="font-size: 15px;">操作系统</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://github.com/wangjun-rko" title="github" target="_blank">github</a><ul></ul><a href="https://hub.docker.com/" title="DOCKER" target="_blank">DOCKER</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/about/">联系博主</a></p><p><span> Copyright &copy;<a href="/." rel="nofollow">wangjun.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script></body></html>